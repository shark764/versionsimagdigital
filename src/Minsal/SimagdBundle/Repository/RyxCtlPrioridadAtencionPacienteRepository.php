<?php

namespace Minsal\SimagdBundle\Repository;

use Doctrine\ORM\EntityRepository;

/**
 * RyxCtlPrioridadAtencionPacienteRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class RyxCtlPrioridadAtencionPacienteRepository extends EntityRepository
{
    public function obtenerPrioridadesAtencionV2($return = 'result')
    {
        $query = $this->getEntityManager()
                        ->createQueryBuilder('prAtn')
                            ->select('prAtn')
                            ->from('MinsalSimagdBundle:ImgCtlPrioridadAtencion', 'prAtn')
                            ->orderBy('prAtn.id', 'ASC')
                            ->distinct();

	if($return == 'scalar')
	{
	    $query->addSelect('prAtn.id AS id, prAtn.nombre AS text, prAtn.codigo AS cod, prAtn.estiloPresentacion as style');
	}

        return $return == 'query' ?
	    $query : ($return == 'scalar' ? $query->getQuery()->getScalarResult()
		: $query->getQuery()->getResult()
	    );
    }

}