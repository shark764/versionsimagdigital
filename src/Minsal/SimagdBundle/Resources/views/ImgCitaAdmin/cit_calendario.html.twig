{# empty Twig template #}

{% extends 'MinsalSimagdBundle::simagd_layout.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    
    {# FullCalendar #}
    <link href="{{ asset('bundles/minsalsimagd/plugin/fullcalendar-3.1.0/fullcalendar.min.css') }}" type="text/css" rel="stylesheet" />
    <link href="{{ asset('bundles/minsalsimagd/plugin/fullcalendar-3.1.0/fullcalendar.print.css') }}" type="text/css" rel="stylesheet" media="print" />
    
    <style>

	{#body {
		margin-top: 40px;
		text-align: center;
		font-size: 14px;
		font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
	}#}
		
	{##wrap {
		width: 1100px;
		margin: 0 auto;
	}#}
		
	#external-events {
		float: left;
{#		width: 150px;#}
		padding: 0 10px;
		border: 1px solid #ccc;
		background: #eee;
		text-align: left;
	}
		
	#external-events h4 {
		font-size: 16px;
		margin-top: 0;
		padding-top: 1em;
	}
		
	#external-events .fc-event {
		margin: 10px 0;
		cursor: pointer;
	}
		
	#external-events p {
		margin: 1.5em 0;
		font-size: 11px;
                color: #666;
	}
		
	#external-events p input {
		margin: 0;
		vertical-align: middle;
	}

	#calendar {
		float: right;
{#		width: 900px;#}
	}

    </style>


{% endblock %}

{% block javascripts %}
    {{ parent() }}
    
    {# FullCalendar #}
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/plugin/fullcalendar-3.1.0/fullcalendar.min.js') }}" ></script>
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/plugin/fullcalendar-3.1.0/lang-all.js') }}" ></script>
    
    <script>

	jQuery(document).ready(function() {


		/* initialize the external events
		-----------------------------------------------------------------*/

		$('#external-events .fc-event').each(function() {

			// store data so the calendar knows to render an event upon drop
			jQuery(this).data('event', {
				title: jQuery.trim(jQuery(this).text()), // use the element's text as the event title
				stick: true // maintain when user navigates (see docs on the renderEvent method)
			});

			// make the event draggable using jQuery UI
			jQuery(this).draggable({
				zIndex: 999,
				revert: true,      // will cause the event to go back to its
				revertDuration: 0  //  original position after the drag
			});

		});


		/* initialize the calendar
		-----------------------------------------------------------------*/

		$('#calendar:not([disabled])').fullCalendar({
			header: {
				left: 'prev,next today',
				center: 'title',
				right: 'month,agendaWeek,agendaDay'
			},
			defaultView: 'agendaDay',
                        lang: 'es',
                        axisFormat: 'h:mm A',
                        timeFormat: 'H(:mm) A',
                        eventLimit: true, // for all non-agenda views
                        views: {
                            agenda: {
                                eventLimit: 6 // adjust to 6 only for agendaWeek/agendaDay
                            }
                        },
                        defaultTimedEventDuration: '00:15:00',
                        slotDuration: '00:15:00',
			firstHour: 10,
			lastHour: 18,
			editable: true,
			droppable: true, // this allows things to be dropped onto the calendar
			drop: function() {
				// is the "remove after drop" checkbox checked?
				if ($('#drop-remove').is(':checked')) {
					// if so, remove the element from the "Draggable Events" list
					jQuery(this).remove();
				}
			}
		});


	});

    </script>


{% endblock %}
    
{% block sonata_admin_content -%}
    
    <div id='wrap' class="col-md-12">

        <div id='external-events' class="col-md-2">
            <h4>Pacientes no citados</h4>
            <div class='fc-event'>Farid Hernández Cortez</div>
            <div class='fc-event'>Jazmín Aquino</div>
            <div class='fc-event'>Vanessa Martel</div>
            <div class='fc-event'>Karla María Guadrón</div>
            <div class='fc-event'>Iliana Karina Muñoz</div>
            <div class='fc-event'>Katheryne Escobar</div>
            <div class='fc-event'>Silvia Noemí Gonzalez</div>
            <div class='fc-event'>Diana Carolina Vega</div>
            <div class='fc-event'>Abigail Reyes</div>
            <p>
                <input type='checkbox' id='drop-remove' />
                <label for='drop-remove'>Borrar al asignar</label>
            </p>
        </div>

        <div id='calendar' class="col-md-10"></div>

        <div style='clear:both'></div>

    </div>

    
{% endblock -%}