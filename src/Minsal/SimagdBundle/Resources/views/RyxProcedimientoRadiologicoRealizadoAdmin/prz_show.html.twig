{# empty Twig template #}

{% extends 'MinsalSimagdBundle::simagd_base_show.html.twig' %}

{% block actions %}
    <li>
        {% if ( object.id is not null ) and ( ( is_granted('ROLE_MINSAL_SIMAGD_ADMIN_IMG_PROCEDIMIENTO_REALIZADO_CREATE') and
                                is_granted('ROLE_MINSAL_SIMAGD_ADMIN_IMG_ESTUDIO_PACIENTE_VIEW') ) or is_granted('ROLE_ADMIN') ) %}
            {{ render(controller( 'MinsalSimagdBundle:RyxProcedimientoRadiologicoRealizadoAdmin:obtenerEstudioRealizado',
                                                    { 'id' : object.id, '_sonata_admin' : 'minsal_simagd.admin.ryx_procedimiento_radiologico_realizado' } )) }}
        {% endif %}
    </li>
    <li>{% include 'SonataAdminBundle:Button:edit_button.html.twig' %}</li>
    <li>{% include 'SonataAdminBundle:Button:history_button.html.twig' %}</li>
    <li>{% include 'SonataAdminBundle:Button:list_button.html.twig' %}</li>
{% endblock %}

{% block simagd_form_navbar_brand_title %}
    <span class="navbar-brand">
        <span class="label label-primary-v4">
            <i class="fa fa-desktop"></i> <i class="fa fa-eye"></i> Procedimiento imagenológico realizado a: <i>{{ object.idSolicitudEstudio.idExpediente.idPaciente|truncate(50) }}</i>
        </span>
    </span>
{% endblock %}

{# muestra de información de apoyo #}
{% block custom_entity_support %}
    <div id="custom-entity-content-body">
        {% if object.idSolicitudEstudio is not null %}
            {{ render(controller( 'MinsalSimagdBundle:RyxProcedimientoRadiologicoRealizadoAdmin:mostrarInformacionModal',
                                                    { 'idSolicitudEstudioPadre' : object.idSolicitudEstudio.id,
                                                        'idCitaProgramada' : object.idCitaProgramada ? object.idCitaProgramada.id : -1,
                                                        'id' : object.id ? object.id : -1,
                                                        '_sonata_admin' : 'minsal_simagd.admin.ryx_procedimiento_radiologico_realizado' } )) }}
        {% endif %}
    </div>
{% endblock %}