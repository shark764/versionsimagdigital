{# empty Twig template #}

{% extends 'MinsalSimagdBundle::simagd_layout.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    
    {# Bootstrap #}
    {#<link href="{{ asset('bundles/minsalsimagd/plugin/bootstrap-3.3.7/dist/css/bootstrap.min.css') }}" type="text/css" rel="stylesheet" />
    <link href="{{ asset('bundles/minsalsimagd/plugin/bootstrap-3.3.7/dist/css/bootstrap-theme.min.css') }}" type="text/css" rel="stylesheet" />#}
    
    {# Twitter Typeahead #}
    <link href="{{ asset('bundles/minsalsimagd/css/typeahead.css') }}" type="text/css" rel="stylesheet" />
    
    {# bootstrap-table #}
    <link href="{{ asset('bundles/minsalsimagd/plugin/bootstrap-table-master/dist/bootstrap-table.min.css') }}" type="text/css" rel="stylesheet" media="screen" />
    
    {# bootstrapvalidator #}
    <link href="{{ asset('bundles/minsalsimagd/plugin/formvalidation-master/dist/css/formValidation.min.css') }}" type="text/css" rel="stylesheet" />

{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script>
	var $id_userLogged,
	    $id_emp_userLogged,
	    $cod_emp_userLogged,
	    $id_userEstab;
	
	var $is_admin,
	    $is_radX,
	    $is_prcMed;
	
	$id_userLogged		= {{ app.user.getId()|escape('js') }};
	$id_emp_userLogged	= {{ app.user.getIdEmpleado.getId()|escape('js') }};
	$cod_emp_userLogged	= "{{ app.user.getIdEmpleado.getIdTipoEmpleado.getCodigo()|escape('js') }}";
	$id_userEstab 		= {{ app.user.getIdEstablecimiento.getId()|escape('js') }};

	console.log($id_userLogged, $id_emp_userLogged, $cod_emp_userLogged, $id_userEstab);
	
	$is_admin		= {% if is_granted('ROLE_ADMIN') %} true {% else %} false {% endif %};
	$is_radX		= {% if is_granted('ROLE_MINSAL_SIMAGD_ADMIN_IMG_LECTURA_CREATE') %} true {% else %} false {% endif %};
	$is_prcMed		= {% if is_granted('ROLE_MINSAL_SIMAGD_ADMIN_IMG_SOLICITUD_ESTUDIO_CREATE') and app.user.idEmpleado.idTipoEmpleado.codigo == 'MED' %} true {% else %} false {% endif %};

	console.log($is_admin, $is_radX, $is_prcMed);
    </script>
    
    {# Bootstrap #}
    {#<script type="text/javascript" src="{{ asset('bundles/minsalsimagd/plugin/bootstrap-3.3.7/dist/js/bootstrap.min.js') }}" ></script>#}

    {# jquery-formparams #}
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/js/jquery.formparams.min.js') }}" ></script>
    
    {# Twitter Typeahead #}
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/plugin/typeahead.js-master/dist/typeahead.bundle.js') }}" ></script>
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/plugin/typeahead.js-master/dist/bloodhound.js') }}" ></script>
    
    {# bootstrap-table #}
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/plugin/bootstrap-table-master/dist/bootstrap-table.min.js') }}" ></script>
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/plugin/bootstrap-table-master/dist/locale/bootstrap-table-es-CR.min.js') }}" ></script>
    {# Datetime format for bootstrap-table #}
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/js/simagd_data_bsTable_formatter.js') }}" ></script>
    
    {# Simagd Custom Scripts #}
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/js/simagd_form_config_v2.js') }}" ></script>
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/js/simagd_config_alert.js') }}" ></script>
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/js/simagd_setterObject_modalData.js') }}" ></script>
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/js/simagd_select2_custom_formatter.js') }}" ></script>
    
    {# bootstrapvalidator #}
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/plugin/formvalidation-master/dist/js/formValidation.min.js') }}" ></script>
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/plugin/formvalidation-master/dist/js/framework/bootstrap.min.js') }}" ></script>
    <script type="text/javascript" src="{{ asset('bundles/minsalsimagd/plugin/formvalidation-master/dist/js/language/es_ES.js') }}" ></script>

{% endblock %}

{% block content %}
    {{ parent() }}

{% endblock %}